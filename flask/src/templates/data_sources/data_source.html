{% extends "base.html" %}
{% block content %}

    <div class="page-header">
        <h1>Data source:
            <a href="{{ url_for('data_sources.get_data_source_page', data_source_id=data_source._id) }}">
                <small> {{ data_source.display_title }} </small>
            </a>
        </h1>

        {% if data_source.processing_started == None and data_source.processing_completed == None  %}
            {% if data_source.training_purpose %}
                <a class="btn btn-primary"
                href="{{ url_for('data_sources.process_data_source', data_source_id=data_source._id) }}">
                <span class="glyphicon glyphicon-play"></span> Process</a>
            {% else %}
                <a class="btn btn-primary"
                href="{{ url_for('data_sources.process_data_source_unlabelled', data_source_id=data_source._id) }}">
                <span class="glyphicon glyphicon-play"></span> Process</a>
            {% endif %}
            <a class="btn btn-danger"
               href="{{ url_for('data_sources.delete_data_source', data_source_id=data_source._id) }}">
                <span class="glyphicon glyphicon-trash"></span> Delete</a>

        {% elif data_source.processing_started != None and data_source.processing_completed == None %}
            <a class="btn btn-primary disabled">
                <span class="glyphicon glyphicon-play"></span> Processing</a>
            <a class="btn btn-danger"
               href="{{ url_for('data_sources.delete_data_source', data_source_id=data_source._id) }}">
                <span class="glyphicon glyphicon-trash"></span> Delete</a>

        {% else %}
            <a class="btn btn-info "
                href="{{ url_for('data_sources.visualise_stats', data_source_id=data_source._id) }}">
                <span class="glyphicon glyphicon-eye-open"></span> Data Analysis</a>
            <a class="btn btn-warning "
                href="{{ url_for('data_sources.apply_grid_search', data_source_id=data_source._id) }}">
                <span class="glyphicon glyphicon-search"></span> Recommend Algorithm </a>
            <a class="btn btn-danger"
               href="{{ url_for('data_sources.delete_data_source', data_source_id=data_source._id) }}">
                <span class="glyphicon glyphicon-trash"></span> Delete</a>
        {% endif %}

    </div>

    <div class="row">
        <div class="col-md-2">
            <p align="left" class="center-align-pad"><strong>Description</strong></p>
        </div>
        <div class="col-md-10">
            <p align="left" class="center-align-pad">{{ data_source.description  }}</p>
        </div>
    </div>

    {% if data_source.pre_processing_config != None %}
        <div class="row">
            <div class="col-md-2">
                <p align="left" class="center-align-pad"><strong>Configuration</strong></p>
            </div>
            <div class="col-md-10">
                {% if 'auto_data' in data_source.pre_processing_config.keys() %}
                    <p align="left" class="center-align-pad">Auto</p>
                {% else %}
                    {% for key, value in data_source.pre_processing_config.items() %}
                        <p align="left" class="center-align-pad">{{ key|capitalize }} : {{ value|capitalize }}</p>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    {% endif %}

{% endblock %}